<!DOCTYPE html>
<html lang="en" data-theme="dark">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>EVRT — Ad Preview Studio</title>
  <meta name="description" content="Design ad mockups for Facebook, Instagram, and TikTok. Upload an image, tune copy, generate variants, preview instantly, and export as PNG."/>
  <link rel="preconnect" href="https://fonts.googleapis.com"/>
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin/>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300..900&family=Space+Grotesk:wght@400;600;700&display=swap" rel="stylesheet"/>
  <link rel="stylesheet" href="assets/style.css"/>

  <!-- Page-scoped styles -->
  <style>
    /* layout */
    .studio-wrap { padding: 14px 0 28px; }
    .studio-grid { display:grid; gap:20px; }
    @media (min-width: 980px){
      .studio-grid { grid-template-columns: 360px 1fr; align-items:start; }
    }

    /* cards / sections */
    .tool { border:1px solid var(--line); background:linear-gradient(180deg,rgba(255,255,255,.04),rgba(255,255,255,.02)); border-radius:16px; padding:16px; }
    .tool h3 { margin:.1rem 0 .6rem; }
    .muted { color: var(--muted); }

    .seg { display:inline-flex; gap:6px; border:1px solid var(--line); background:#0e121b; padding:4px; border-radius:999px; }
    .seg button { border:0; background:transparent; color:var(--text); padding:.45rem .8rem; border-radius:999px; font-weight:700; cursor:pointer; }
    .seg button.active { background:linear-gradient(90deg,hsl(var(--accent)/.35),hsl(var(--accent-2)/.35)); }

    .row { display:grid; gap:10px; }
    .row.two { grid-template-columns: 1fr 1fr; }
    .row.three { grid-template-columns: 1fr 1fr 1fr; }
    @media (max-width:740px){ .row.two, .row.three { grid-template-columns:1fr; } }

    .fld { display:flex; flex-direction:column; gap:6px; }
    .fld label { font-weight:700; font-size:.95rem; }
    .fld input[type="text"], .fld input[type="url"], .fld textarea {
      padding:12px; border-radius:12px; border:1px solid var(--line); background:#0f141d; color:var(--text);
    }
    .hint { font-size:.9rem; color:var(--muted); display:flex; justify-content:space-between; gap:8px; }
    .hint .count { font-variant-numeric: tabular-nums; }

    .btnbar { display:flex; gap:10px; flex-wrap:wrap; }
    .btn.primary { background:linear-gradient(90deg,hsl(var(--accent)),hsl(var(--accent-2))); border-color:transparent; color:#fff; }
    .chip { display:inline-flex; align-items:center; gap:.45rem; padding:.35rem .6rem; border-radius:999px; border:1px solid var(--line); background:#0e121b; }
    .metric { display:grid; grid-template-columns: repeat(3,minmax(0,1fr)); gap:10px; margin-top:10px; }
    .metric .m { border:1px dashed var(--line); border-radius:12px; padding:10px; text-align:center; }
    .metric .m .v { font-size:1.2rem; font-weight:800; }

    /* previews area */
    .preview-rail { display:grid; gap:16px; }
    @media (min-width: 1100px){ .preview-rail { grid-template-columns: repeat(2,minmax(0,1fr)); } }
    .ad-shell { border:1px solid var(--line); background:#0c111a; border-radius:16px; padding:14px; box-shadow:var(--shadow-lg); }
    .ad-head { display:flex; align-items:center; justify-content:space-between; gap:12px; }
    .ad-brand { display:flex; align-items:center; gap:10px; font-weight:800; }
    .ad-avatar { width:36px; height:36px; border-radius:50%; background:linear-gradient(135deg,hsl(var(--accent)),hsl(var(--accent-2))); }
    .ad-copy { margin:.5rem 0 0; white-space:pre-wrap; }
    .ad-media { height:220px; border-radius:12px; margin-top:10px;
      background: radial-gradient(100% 120% at 10% 10%, hsl(var(--accent)/.45), transparent),
                  radial-gradient(120% 120% at 90% 20%, hsl(var(--accent-2)/.35), transparent),
                  radial-gradient(120% 120% at 40% 80%, hsl(320 90% 55%/.30), transparent);
      background-size:cover; background-position:center; overflow:hidden; display:block;
    }
    .ad-footer { display:flex; justify-content:space-between; align-items:center; margin-top:12px; }
    .ad-cta { padding:.5rem .8rem; border-radius:999px; border:1px solid var(--line);
      background:linear-gradient(90deg,hsl(var(--accent)),hsl(var(--accent-2))); color:#fff; font-weight:800; }
    .ad-url { color: var(--muted); }
    .clamp-2 { display:-webkit-box; -webkit-line-clamp:2; -webkit-box-orient:vertical; overflow:hidden; }
    .clamp-4 { display:-webkit-box; -webkit-line-clamp:4; -webkit-box-orient:vertical; overflow:hidden; }

    /* platform aspect tweaks */
    .shell[data-p="facebook"] .ad-media { height: 220px; }
    .shell[data-p="instagram"] .ad-media { height: 300px; border-radius:16px; }
    .shell[data-p="tiktok"] .ad-media { height: 420px; border-radius:12px; }

    /* drop area */
    .drop {
      border:1px dashed var(--line); border-radius:12px; padding:14px; text-align:center;
      background:#0d121b;
    }
    .drop.drag { outline: 2px solid hsl(var(--accent)); outline-offset:2px; }
  </style>
</head>
<body>
  <div class="bg-orbs" aria-hidden="true"></div>
  <div data-include="partials/header.html"></div>

  <section class="container hero">
    <span class="eyebrow">Studio</span>
    <h1 class="gradient-text">Ad Preview Studio</h1>
    <p class="sub">Design FB/IG/TikTok mockups. Update fields → previews refresh instantly. Export PNG, share a link, or jump into Social&nbsp;AI.</p>
    <section class="container hero">
  <span class="eyebrow">Studio</span>
  <h1 class="gradient-text">Ad Preview Studio</h1>
  <p class="sub">Design FB/IG/TikTok mockups. Update fields → previews refresh instantly. Export PNG, share a link, or jump into Social&nbsp;AI.</p>
    </div>
  </section>

  <section class="container studio-wrap">
    <div class="studio-grid">
      <!-- Controls -->
      <aside class="tool" id="controls">
        <div class="seg" role="tablist" aria-label="Platform">
          <button class="active" data-p="facebook" role="tab" aria-selected="true">Facebook</button>
          <button data-p="instagram" role="tab" aria-selected="false">Instagram</button>
          <button data-p="tiktok" role="tab" aria-selected="false">TikTok</button>
        </div>

        <h3 style="margin:12px 0 6px">Creative controls</h3>
        <p class="muted" style="margin-top:0">Brand, handle, copy, CTA, and media.</p>

        <div class="row two">
          <div class="fld"><label for="brand">Brand name</label>
            <input id="brand" type="text" data-field="brand" placeholder="EVRT" maxlength="24">
            <div class="hint"><span>Shown as page/account</span><span class="count" data-count="brand"></span></div>
          </div>
          <div class="fld"><label for="handle">Handle</label>
            <input id="handle" type="text" data-field="handle" placeholder="@evrt.ai" maxlength="32">
            <div class="hint"><span>Optional (IG/TikTok)</span><span class="count" data-count="handle"></span></div>
          </div>
        </div>

        <div class="fld"><label for="headline">Headline</label>
          <input id="headline" type="text" data-field="headline" placeholder="Draft once → schedule everywhere with predictive timing" maxlength="110">
          <div class="hint"><span>Keep it scannable</span><span class="count" data-count="headline"></span></div>
        </div>

        <div class="fld"><label for="body">Body / caption</label>
          <textarea id="body" rows="5" data-field="body" placeholder="Create on-brand posts, predict the best minute per platform, and measure lift with closed-loop analytics." maxlength="400"></textarea>
          <div class="hint"><span>Longer copy for FB; concise for TikTok</span><span class="count" data-count="body"></span></div>
        </div>

        <div class="row two">
          <div class="fld"><label for="cta">CTA</label>
            <input id="cta" type="text" data-field="cta" placeholder="Start trial" maxlength="18">
            <div class="hint"><span></span><span class="count" data-count="cta"></span></div>
          </div>
          <div class="fld"><label for="url">Link</label>
            <input id="url" type="url" data-field="url" placeholder="https://evrt.ai" maxlength="120">
            <div class="hint"><span>Shown as display URL</span><span class="count" data-count="url"></span></div>
          </div>
        </div>

        <div class="fld">
          <label>Image / video poster</label>
          <div class="drop" id="drop">
            <input id="file" type="file" accept="image/*,video/*" style="display:none">
            <p class="muted" style="margin:0 0 8px">Drop an image here or <a href="#" id="filePick">choose a file</a>.</p>
            <div class="btnbar">
              <button class="btn" id="clearMedia">Remove</button>
              <button class="btn" id="exportPng">Export PNG</button>
              <button class="btn" id="shareLink">Share setup</button>
            </div>
          </div>
        </div>

        <h3 style="margin:14px 0 6px">Signal sliders</h3>
        <div class="row three">
          <div class="fld"><label>Clarity</label>
            <input type="range" min="0" max="100" value="70" step="1" data-field="clarity">
          </div>
          <div class="fld"><label>Energy</label>
            <input type="range" min="0" max="100" value="65" step="1" data-field="energy">
          </div>
          <div class="fld"><label>Depth</label>
            <input type="range" min="0" max="100" value="55" step="1" data-field="depth">
          </div>
        </div>
        <div class="metric">
          <div class="m"><div class="v" id="mReach">—</div><div class="muted">Expected reach</div></div>
          <div class="m"><div class="v" id="mCTR">—</div><div class="muted">CTR</div></div>
          <div class="m"><div class="v" id="mConf">—</div><div class="muted">Confidence</div></div>
        </div>

        <h3 style="margin:14px 0 6px">Idea helpers</h3>
        <div class="btnbar">
          <button class="btn" id="genVariants">Generate headline variants</button>
          <button class="btn" id="bestMinute">Predict best minute</button>
        </div>
        <div id="variantBox" class="row" style="margin-top:10px"></div>
        <div id="minuteBox" class="row" style="margin-top:10px"></div>
      </aside>

      <!-- Live previews -->
      <main class="preview-rail">
        <div class="ad-shell shell tool" data-p="facebook">
          <div class="chip">Facebook preview</div>
          <article class="ad ad-shell__inner ad-shell--fb ad-shell tool" aria-label="Facebook ad">
            <div class="ad-head">
              <div class="ad-brand">
                <span class="ad-avatar" aria-hidden="true"></span>
                <div><div id="pBrandFB">EVRT</div><div class="muted" id="pTagFB">Sponsored · 1h</div></div>
              </div>
              <span class="chip" id="pCtaFB">Start trial</span>
            </div>
            <p class="ad-copy clamp-4" id="pCopyFB">Draft once → schedule everywhere with predictive timing.</p>
            <div class="ad-media" id="pMediaFB"></div>
            <div class="ad-footer"><span class="ad-url" id="pUrlFB">evrt.ai</span><span class="ad-cta">Learn more</span></div>
          </article>
        </div>

        <div class="ad-shell shell tool" data-p="instagram">
          <div class="chip">Instagram preview</div>
          <article class="ad-shell__inner ad-shell--ig ad-shell tool" aria-label="Instagram ad">
            <div class="ad-head">
              <div class="ad-brand">
                <span class="ad-avatar" aria-hidden="true"></span>
                <div><div id="pBrandIG">EVRT</div><div class="muted" id="pTagIG">@evrt.ai</div></div>
              </div>
              <span class="chip" id="pCtaIG">Shop now</span>
            </div>
            <p class="ad-copy clamp-2" id="pCopyIG">Create on-brand posts, publish at the best minute, measure lift.</p>
            <div class="ad-media" id="pMediaIG"></div>
            <div class="ad-footer"><span class="ad-url" id="pUrlIG">evrt.ai</span><span class="ad-cta">Learn more</span></div>
          </article>
        </div>

        <div class="ad-shell shell tool" data-p="tiktok">
          <div class="chip">TikTok preview</div>
          <article class="ad-shell__inner ad-shell--tt ad-shell tool" aria-label="TikTok ad">
            <div class="ad-head">
              <div class="ad-brand">
                <span class="ad-avatar" aria-hidden="true"></span>
                <div><div id="pBrandTT">EVRT · Official</div><div class="muted" id="pTagTT">Promoted</div></div>
              </div>
              <span class="chip" id="pCtaTT">Learn more</span>
            </div>
            <p class="ad-copy clamp-2" id="pCopyTT">On-brand content + best-minute timing. Close the loop on lift.</p>
            <div class="ad-media" id="pMediaTT"></div>
            <div class="ad-footer"><span class="ad-url" id="pUrlTT">@evrt.ai</span><span class="ad-cta">Learn more</span></div>
          </article>
        </div>
      </main>
    </div>
  </section>

  <div data-include="partials/footer.html"></div>

  <!-- Hidden canvas for PNG export -->
  <canvas id="exportCanvas" width="1200" height="628" style="display:none"></canvas>

    <!-- Cinematic overlay -->
<div id="demoOverlay" class="demo-overlay" aria-hidden="true">
  <div class="demo-chrome" role="dialog" aria-modal="true" aria-label="EVRT Cinematic Demo">
    <div class="demo-head">
      <div style="display:flex;align-items:center;gap:10px">
        <span class="logo-mark" aria-hidden="true"></span>
        <strong>EVRT Live Demo</strong>
      </div>
      <div class="demo-steps">
        <span class="step-dot" data-step="0"></span>
        <span class="step-dot" data-step="1"></span>
        <span class="step-dot" data-step="2"></span>
        <span class="step-dot" data-step="3"></span>
      </div>
      <button class="btn ghost" id="demoClose" aria-label="Close">✕</button>
    </div>

    <div class="demo-canvas">
      <!-- Scene 1: Compose -->
      <section class="scene active" data-id="0">
        <div class="grid" style="gap:14px">
          <div class="device" style="padding:14px">
            <h3 style="margin:0 0 8px">Compose</h3>
            <p class="muted" style="margin:0 0 10px">Type anything below — your wall updates in real-time.</p>
            <div class="fld"><label>Headline</label>
              <input type="text" id="demoHeadline" placeholder="Stop guessing. Start predicting."/>
            </div>
            <div class="fld"><label>Caption</label>
              <textarea id="demoCaption" rows="3" placeholder="Publish at the best minute for every platform."></textarea>
            </div>
            <div class="btnbar">
              <button class="btn" id="demoFill">Fill with a great example</button>
              <button class="btn" id="demoApplyBrand">Match site to my image</button>
              <input id="demoBrandImg" type="file" accept="image/*" style="display:none">
            </div>
          </div>
          <div class="grid" style="grid-template-columns:repeat(3,minmax(260px,1fr));gap:14px">
            <div class="device"><div style="padding:12px"><strong>Facebook</strong><div id="wallFB" class="muted clamp-4"></div></div></div>
            <div class="device"><div style="padding:12px"><strong>Instagram</strong><div id="wallIG" class="muted clamp-2"></div></div></div>
            <div class="device"><div style="padding:12px"><strong>TikTok</strong><div id="wallTT" class="muted clamp-2"></div></div></div>
          </div>
        </div>
      </section>

      <!-- Scene 2: Predict -->
      <section class="scene" data-id="1">
        <div class="hm-card">
          <h3 style="margin:0 0 8px">Predictive heatmap</h3>
          <p class="muted" style="margin:0 0 8px">Activity across the week — shimmer indicates high-probability windows.</p>
          <canvas id="heatmap" width="840" height="360" style="width:100%;max-width:100%"></canvas>
        </div>
      </section>

      <!-- Scene 3: Schedule -->
      <section class="scene" data-id="2">
        <div class="device" style="padding:14px">
          <h3 style="margin:0 0 8px">Schedule</h3>
          <p class="muted" style="margin:0 10px 10px 0">Drag the window — we’ll update your metrics.</p>
          <div id="schedArea" style="position:relative;height:360px;border:1px dashed var(--line);border-radius:12px;background:#0f141b"></div>
          <div class="metric">
            <div class="m"><div class="v" id="dReach">—</div><div class="muted">Expected reach</div></div>
            <div class="m"><div class="v" id="dCTR">—</div><div class="muted">CTR</div></div>
            <div class="m"><div class="v" id="dConf">—</div><div class="muted">Confidence</div></div>
          </div>
        </div>
      </section>

      <!-- Scene 4: Measure -->
      <section class="scene" data-id="3">
        <div class="grid" style="gap:14px">
          <div class="card"><strong>Before → After</strong><p class="muted">Predictive windows boost CTR and stabilize reach variance.</p></div>
          <div class="card"><strong>Export</strong><p class="muted">Download a composite image of all previews + KPIs for your deck.</p>
            <div class="btnbar"><button class="btn primary" id="exportComposite">Export composite PNG</button></div>
          </div>
        </div>
      </section>
    </div>

    <div class="demo-controls">
      <button class="btn" id="demoPrev">Back</button>
      <button class="btn primary" id="demoNext">Next</button>
    </div>
  </div>
</div>


  <script>
    // ---------- helpers
    const $ = sel => document.querySelector(sel);
    const $$ = sel => [...document.querySelectorAll(sel)];
    const SKEY = 'evrt_ad_studio_v1';

    function safe(str=''){ return (str || '').toString(); }
    function clamp(n, min, max){ return Math.max(min, Math.min(max, n)); }
    function hostFromUrl(u) {
      try { return new URL(u).host.replace(/^www\./,''); } catch { return safe(u).replace(/^https?:\/\//,''); }
    }

    // ---------- state
    const state = {
      platform: 'facebook',
      brand: 'EVRT',
      handle: '@evrt.ai',
      headline: 'Draft once → schedule everywhere with predictive timing',
      body: 'Create on-brand posts, predict the best minute per platform, and measure lift with closed-loop analytics.',
      cta: 'Start trial',
      url: 'https://evrt.ai',
      media: '', // dataURL
      clarity: 70, energy: 65, depth: 55
    };

    // load from localStorage or hash
    (function hydrate(){
      try{
        const hash = location.hash.startsWith('#s=') ? location.hash.slice(3) : '';
        if (hash){
          const decoded = JSON.parse(atob(decodeURIComponent(hash)));
          Object.assign(state, decoded || {});
        } else {
          const saved = localStorage.getItem(SKEY);
          if (saved) Object.assign(state, JSON.parse(saved));
        }
      }catch(e){}
    })();

    // save
    function persist(){
      try{ localStorage.setItem(SKEY, JSON.stringify(state)); }catch(e){}
    }

    // ---------- controls binding
    function bindField(id, key){
      const el = document.getElementById(id);
      const counter = document.querySelector(`[data-count="${key}"]`);
      const max = el.maxLength > 0 ? el.maxLength : null;
      el.value = safe(state[key]);
      if (counter) counter.textContent = max ? `${el.value.length}/${max}` : `${el.value.length}`;
      el.addEventListener('input', ()=>{
        state[key] = el.value;
        if (counter) counter.textContent = max ? `${el.value.length}/${max}` : `${el.value.length}`;
        render();
        persist();
      });
    }

    ['brand','handle','headline','body','cta','url'].forEach(k=> bindField(k, k));
    $$('input[type="range"][data-field]').forEach(r=>{
      const k = r.dataset.field; r.value = state[k];
      r.addEventListener('input', ()=>{ state[k] = +r.value; renderMetrics(); persist(); });
    });

    // platform tabs
    $$('.seg [data-p]').forEach(btn=>{
      btn.addEventListener('click', ()=>{
        $$('.seg [data-p]').forEach(b=>b.classList.remove('active'));
        btn.classList.add('active');
        state.platform = btn.dataset.p;
        render();
        persist();
        if (window.innerWidth < 980){
          const panel = document.querySelector(`.shell[data-p="${state.platform}"]`);
          panel?.scrollIntoView({behavior:'smooth', block:'center'});
        }
      });
      if (btn.dataset.p === state.platform) btn.classList.add('active');
    });

    // media upload
    const file = $('#file'), pick = $('#filePick'), drop = $('#drop'), clear = $('#clearMedia');
    pick.addEventListener('click', e => { e.preventDefault(); file.click(); });
    file.addEventListener('change', handleFiles);

    ;['dragenter','dragover'].forEach(ev=> drop.addEventListener(ev, e=>{ e.preventDefault(); drop.classList.add('drag'); }));
    ;['dragleave','drop'].forEach(ev=> drop.addEventListener(ev, e=>{ e.preventDefault(); drop.classList.remove('drag'); }));
    drop.addEventListener('drop', e=> { const f = e.dataTransfer.files?.[0]; if (f) loadFile(f); });

    function handleFiles(){ const f = file.files?.[0]; if (f) loadFile(f); }
    function loadFile(f){
      const reader = new FileReader();
      if (f.type.startsWith('image/')){
        reader.onload = ()=>{ state.media = reader.result; render(); persist(); };
        reader.readAsDataURL(f);
      } else {
        state.media = '';
        render(); persist();
      }
    }
    clear.addEventListener('click', ()=>{ state.media = ''; file.value=''; render(); persist(); });

    // variants generator
    const POWER = ['predictive timing','closed-loop analytics','creative scoring','best-minute windows','on-brand automation'];
    function headlineVariants(h){
      const base = safe(h).replace(/\s+/g,' ').trim();
      const short = base.length > 72 ? base.slice(0,69)+'…' : base;
      const verb = 'Unlock';
      return [
        short,
        `Draft once → publish where it wins (${POWER[Math.floor(Math.random()*POWER.length)]})`,
        `${verb} lift with ${POWER[Math.floor(Math.random()*POWER.length)]}`,
        `From draft to results — ${POWER[Math.floor(Math.random()*POWER.length)]}`
      ];
    }
    $('#genVariants').addEventListener('click', ()=>{
      const box = $('#variantBox'); box.innerHTML='';
      headlineVariants(state.headline).forEach(v=>{
        const b = document.createElement('button'); b.className='btn'; b.textContent=v;
        b.addEventListener('click', ()=>{ state.headline = v; $('#headline').value=v; render(); persist(); });
        box.appendChild(b);
      });
    });

    // best minute (toy)
    $('#bestMinute').addEventListener('click', ()=>{
      const now = new Date();
      const opts = ['Sun','Mon','Tue','Wed','Thu','Fri','Sat'];
      const hour = 7 + Math.floor(Math.random()*12);
      const min  = [0,5,10,15,20,25,30,35,40,45,50,55][Math.floor(Math.random()*12)];
      const ampm = hour >= 12 ? 'PM':'AM';
      const m = document.createElement('div'); m.className='card';
      m.innerHTML = `<strong>Recommended window</strong>
        <p class="muted" style="margin:.35rem 0 0">${opts[now.getDay()]} ${hour}:${String(min).padStart(2,'0')} ${ampm} · ${state.platform} · CTR +${(6+Math.floor(Math.random()*8))}%</p>`;
      const box = $('#minuteBox'); box.innerHTML=''; box.appendChild(m);
    });

    // share link
    $('#shareLink').addEventListener('click', async ()=>{
      const payload = encodeURIComponent(btoa(JSON.stringify(state)));
      const url = `${location.origin}${location.pathname}#s=${payload}`;
      try { await navigator.clipboard.writeText(url); alert('Shareable link copied!'); }
      catch { prompt('Copy your share link:', url); }
    });

    // export PNG
    $('#exportPng').addEventListener('click', ()=>{
      makePNG(state.platform);
    });

    function aspect(platform){
      if (platform==='instagram') return [1080,1350];
      if (platform==='tiktok') return [1080,1920];
      return [1200,628]; // facebook
    }

    function makePNG(platform){
      const [W,H] = aspect(platform);
      const c = document.getElementById('exportCanvas');
      c.width=W; c.height=H;
      const ctx = c.getContext('2d');

      // bg gradient
      const g = ctx.createLinearGradient(0,0,W,H);
      g.addColorStop(0,'#0b0f16'); g.addColorStop(1,'#0f1220');
      ctx.fillStyle=g; ctx.fillRect(0,0,W,H);

      // media rect
      const mediaH = platform==='facebook' ? H*0.58 : platform==='instagram' ? H*0.62 : H*0.68;
      if (state.media){
        const img = new Image();
        img.onload = ()=>{ drawAfterMedia(); };
        img.src = state.media;
      } else {
        // decorative
        const g2 = ctx.createRadialGradient(W*0.2,H*0.2,80, W*0.7,H*0.3, W*0.8);
        g2.addColorStop(0,'rgba(86,156,255,.55)'); g2.addColorStop(1,'rgba(0,0,0,0)');
        ctx.fillStyle=g2; ctx.fillRect(32,140,W-64, mediaH-48);
        drawAfterMedia();
      }

      function drawAfterMedia(){
        // draw media (cover)
        if (state.media){
          const img = new Image();
          img.onload = ()=>{
            const rect = {x:32, y:140, w:W-64, h:mediaH-48};
            const ir = img.width/img.height, rr = rect.w/rect.h;
            let sw, sh, sx, sy;
            if (ir>rr){ sh=img.height; sw=sh*rr; sx=(img.width-sw)/2; sy=0; }
            else { sw=img.width; sh=sw/rr; sx=0; sy=(img.height-sh)/2; }
            ctx.save(); roundRect(ctx, rect.x, rect.y, rect.w, rect.h, 20); ctx.clip();
            ctx.drawImage(img, sx, sy, sw, sh, rect.x, rect.y, rect.w, rect.h);
            ctx.restore();
            drawUI();
          };
          img.src = state.media;
        } else {
          drawUI();
        }
      }

      function drawUI(){
        // brand row
        ctx.fillStyle='#fff'; ctx.font='700 42px Inter, system-ui, -apple-system';
        ctx.fillText(safe(state.brand).slice(0,20), 32, 72);
        ctx.fillStyle='rgba(255,255,255,.7)'; ctx.font='400 22px Inter, system-ui, -apple-system';
        const tag = platform==='facebook' ? 'Sponsored · 1h' : (platform==='instagram' ? safe(state.handle) : 'Promoted');
        ctx.fillText(tag, 32, 102);

        // copy
        ctx.fillStyle='#dfe5ff'; ctx.font='700 38px Inter, system-ui, -apple-system';
        wrapText(ctx, safe(state.headline), 32, 120, W-64, 44);

        // CTA chip
        const chip = safe(state.cta).slice(0,18);
        const cw = ctx.measureText(chip).width + 34;
        roundedChip(ctx, W-32-cw, 40, cw, 44, chip);

        // URL
        ctx.fillStyle='rgba(255,255,255,.75)'; ctx.font='500 22px Inter, system-ui, -apple-system';
        const disp = platform==='tiktok' ? safe(state.handle) : hostFromUrl(state.url) || 'evrt.ai';
        ctx.fillText(disp, 32, H-28);

        // save
        const a = document.createElement('a');
        a.download = `evrt-${platform}.png`;
        a.href = c.toDataURL('image/png');
        a.click();
      }
    }

    // drawing helpers
    function roundRect(ctx, x, y, w, h, r=12){
      const rr = Math.min(r, w/2, h/2);
      ctx.beginPath();
      ctx.moveTo(x+rr, y);
      ctx.arcTo(x+w, y,   x+w, y+h, rr);
      ctx.arcTo(x+w, y+h, x,   y+h, rr);
      ctx.arcTo(x,   y+h, x,   y,   rr);
      ctx.arcTo(x,   y,   x+w, y,   rr);
      ctx.closePath();
    }
    function roundedChip(ctx, x, y, w, h, text){
      const g = ctx.createLinearGradient(x, y, x+w, y+h);
      g.addColorStop(0,'hsl(252 86% 62%)'); g.addColorStop(1,'hsl(190 95% 50%)');
      ctx.fillStyle=g;
      roundRect(ctx, x, y, w, h, h/2);
      ctx.fill();
      if (text){
        ctx.fillStyle='#fff'; ctx.font='800 20px Inter, system-ui, -apple-system';
        ctx.fillText(text, x+17, y+h*0.68);
      }
    }
    function wrapText(ctx, text, x, y, maxWidth, lineHeight){
      const words = safe(text).split(/\s+/);
      let line = '', cy = y;
      for (let n=0; n<words.length; n++){
        const test = line + words[n] + ' ';
        if (ctx.measureText(test).width > maxWidth && n>0){
          ctx.fillText(line, x, cy);
          line = words[n] + ' ';
          cy += lineHeight;
        } else {
          line = test;
        }
      }
      ctx.fillText(line.trim(), x, cy);
    }

    // ---------- live preview renderers
    function applyMedia(el){
      if (state.media) {
        el.style.backgroundImage = `url(${state.media})`;
      } else {
        el.style.backgroundImage = '';
      }
    }

    function render(){
      // Facebook
      $('#pBrandFB').textContent = safe(state.brand);
      $('#pTagFB').textContent = 'Sponsored · 1h';
      $('#pCopyFB').textContent = safe(state.headline);
      $('#pCtaFB').textContent = safe(state.cta);
      $('#pUrlFB').textContent = hostFromUrl(state.url) || 'evrt.ai';
      applyMedia($('#pMediaFB'));

      // Instagram
      $('#pBrandIG').textContent = safe(state.brand);
      $('#pTagIG').textContent = safe(state.handle) || '@brand';
      $('#pCopyIG').textContent = safe(state.body);
      $('#pCtaIG').textContent = safe(state.cta) || 'Learn more';
      $('#pUrlIG').textContent = hostFromUrl(state.url) || 'evrt.ai';
      applyMedia($('#pMediaIG'));

      // TikTok
      $('#pBrandTT').textContent = safe(state.brand) + ' · Official';
      $('#pTagTT').textContent = 'Promoted';
      $('#pCopyTT').textContent = safe(state.headline);
      $('#pCtaTT').textContent = safe(state.cta) || 'Learn more';
      $('#pUrlTT').textContent = safe(state.handle) || '@brand';
      applyMedia($('#pMediaTT'));

      renderMetrics();
    }

    function renderMetrics(){
      // lightweight toy model
      const {clarity, energy, depth} = state;
      const reach = Math.round( (clarity*0.45 + energy*0.35 + depth*0.20) * 120 );           // scaled
      const ctr   = ( (clarity*0.018 + energy*0.022 + depth*0.014) / 10 + 0.8 ).toFixed(2); // %
      const conf  = Math.round( 60 + (depth*0.35 + clarity*0.25 + energy*0.2)/3 );

      $('#mReach').textContent = Intl.NumberFormat().format(reach);
      $('#mCTR').textContent   = ctr + '%';
      $('#mConf').textContent  = clamp(conf, 0, 99) + '%';
    }
    <script>
/* ========= Cinematic controller ========= */
(function(){
  const overlay = document.getElementById('demoOverlay');
  const btnLaunch = document.getElementById('launchCinematic');
  const btnClose  = document.getElementById('demoClose');
  const btnPrev   = document.getElementById('demoPrev');
  const btnNext   = document.getElementById('demoNext');
  const steps = [...overlay.querySelectorAll('.step-dot')];
  let step = 0;

  function lockScroll(on){
    document.documentElement.classList.toggle('lock', on);
    document.body.classList.toggle('lock', on);
  }
  function setStep(n){
    step = Math.max(0, Math.min(3, n));
    overlay.querySelectorAll('.scene').forEach(s => s.classList.toggle('active', +s.dataset.id === step));
    steps.forEach((d,i)=> d.classList.toggle('active', i<=step));
  }
  function open(){ overlay.classList.add('open'); overlay.setAttribute('aria-hidden','false'); lockScroll(true); setStep(0); }
  function close(){ overlay.classList.remove('open'); overlay.setAttribute('aria-hidden','true'); lockScroll(false); }

  btnLaunch?.addEventListener('click', open);
  btnClose?.addEventListener('click', close);
  btnPrev?.addEventListener('click', ()=> setStep(step-1));
  btnNext?.addEventListener('click', ()=> setStep(step+1));
  overlay.addEventListener('click', (e)=>{ if (e.target === overlay) close(); });
  document.addEventListener('keydown', (e)=>{ if (e.key === 'Escape' && overlay.classList.contains('open')) close(); });

  // Live wall sync (Scene 1)
  const demoHeadline = document.getElementById('demoHeadline');
  const demoCaption  = document.getElementById('demoCaption');
  const wallFB = document.getElementById('wallFB');
  const wallIG = document.getElementById('wallIG');
  const wallTT = document.getElementById('wallTT');
  const demoFill = document.getElementById('demoFill');

  function syncWall(){
    const h = demoHeadline.value || state.headline;
    const b = demoCaption.value || state.body;
    wallFB.textContent = `${h} — ${b}`;
    wallIG.textContent = h;
    wallTT.textContent = h;
  }
  demoHeadline?.addEventListener('input', syncWall);
  demoCaption?.addEventListener('input', syncWall);
  demoFill?.addEventListener('click', ()=>{
    demoHeadline.value = "Create once → publish where it wins";
    demoCaption.value  = "EVRT predicts your best-minute window per platform and shows actual lift — not vanity metrics.";
    syncWall();
  });

  // Brand palette extraction (Scene 1)
  const demoApplyBrand = document.getElementById('demoApplyBrand');
  const demoBrandImg   = document.getElementById('demoBrandImg');
  demoApplyBrand?.addEventListener('click', ()=> demoBrandImg.click());
  demoBrandImg?.addEventListener('change', async ()=>{
    const f = demoBrandImg.files?.[0]; if (!f) return;
    const url = await fileToDataURL(f);
    const {accent1, accent2} = await extractPalette(url);
    document.documentElement.style.setProperty('--accent', `${accent1.h} ${accent1.s}% ${accent1.l}%`);
    document.documentElement.style.setProperty('--accent-2', `${accent2.h} ${accent2.s}% ${accent2.l}%`);
    // Also apply image to current ad media
    state.media = url; render(); persist();
  });

  // Predictive heatmap (Scene 2)
  const hm = document.getElementById('heatmap');
  let rafId = 0;
  function drawHeatmapLoop(t=0){
    const ctx = hm.getContext('2d');
    const W = hm.width, H = hm.height;
    ctx.clearRect(0,0,W,H);
    const cols = 24, rows = 7;
    const cw = W/cols, rh = H/rows;
    const base = (state.clarity + state.energy + state.depth)/3;

    // Pretend model: daily curve peaks + noise + animated shimmer
    for (let r=0;r<rows;r++){
      for (let c=0;c<cols;c++){
        const circ = Math.sin((c/24)*Math.PI*2 - 0.7) * 0.4 + 0.6; // circadian-ish
        const dayBias = 0.8 + 0.2*Math.cos((r/7)*Math.PI*2);
        const shimmer = 0.15*Math.sin((t*0.002 + c*0.25 + r*0.4));
        let v = (base/100)*0.55 + 0.25*circ + 0.2*dayBias + shimmer;
        v = Math.max(0, Math.min(1, v));

        const hue1 = getComputedStyle(document.documentElement).getPropertyValue('--accent') || '252 86% 62%';
        const hue2 = getComputedStyle(document.documentElement).getPropertyValue('--accent-2') || '190 95% 50%';
        // blend accents
        const mix = (c/cols);
        ctx.fillStyle = `color-mix(in oklab, hsl(${hue1}) ${Math.round(60+40*mix)}%, hsl(${hue2}))`;
        ctx.globalAlpha = 0.25 + 0.55*v;
        roundRect(ctx, c*cw+4, r*rh+4, cw-8, rh-8, 8, true, false);
      }
    }
    ctx.globalAlpha = 1;

    // “Best minute” pulse (pick max column)
    const bestCol = Math.floor((t/1200) % 24);
    ctx.strokeStyle = `hsl(${getComputedStyle(document.documentElement).getPropertyValue('--accent')})`;
    ctx.lineWidth = 3;
    ctx.setLineDash([8,6]); ctx.lineDashOffset = (t/30)%14;
    ctx.strokeRect(bestCol*cw+3, 3, cw-6, H-6);
    rafId = requestAnimationFrame(drawHeatmapLoop);
  }
  const observer = new IntersectionObserver(e=>{
    e.forEach(x=>{
      if (x.isIntersecting) rafId = requestAnimationFrame(drawHeatmapLoop);
      else cancelAnimationFrame(rafId);
    });
  }, {threshold:0.2});
  if (hm) observer.observe(hm);

  // Drag-to-schedule (Scene 3)
  const sched = document.getElementById('schedArea');
  if (sched){
    const win = document.createElement('div');
    Object.assign(win.style,{position:'absolute',left:'30%',top:'30%',width:'120px',height:'64px',
      border:'2px solid hsl(var(--accent))',borderRadius:'10px',boxShadow:'0 0 0 6px rgba(116,186,255,0.08)',cursor:'move',background:'transparent'});
    sched.appendChild(win);

    let sx=0, sy=0, ox=0, oy=0;
    const start = e=>{ const p=point(e); sx=p.x; sy=p.y; ox=win.offsetLeft; oy=win.offsetTop; document.addEventListener('pointermove',move); document.addEventListener('pointerup',end); win.setPointerCapture(e.pointerId);};
    const move  = e=>{ const p=point(e); const nx=clamp(ox+(p.x-sx), 0, sched.clientWidth-win.clientWidth); const ny=clamp(oy+(p.y-sy), 0, sched.clientHeight-win.clientHeight); win.style.left=nx+'px'; win.style.top=ny+'px'; updateMetrics(nx,ny);};
    const end   = e=>{ document.removeEventListener('pointermove',move); document.removeEventListener('pointerup',end); };
    const point = e=>({x:e.clientX - sched.getBoundingClientRect().left, y:e.clientY - sched.getBoundingClientRect().top});
    win.addEventListener('pointerdown', start);

    function updateMetrics(x,y){
      const xPct = x/(sched.clientWidth-1), yPct = y/(sched.clientHeight-1);
      const reach = Math.round(10_000 + 40_000*(1 - Math.abs(0.5-xPct)));
      const ctr   = (2.2 + 2.1*(1 - Math.abs(0.35-yPct))).toFixed(2) + '%';
      const conf  = Math.round(60 + 35*(1 - Math.hypot(xPct-0.35,yPct-0.35)));
      document.getElementById('dReach').textContent = reach.toLocaleString();
      document.getElementById('dCTR').textContent   = ctr;
      document.getElementById('dConf').textContent  = conf + '%';
    }
    updateMetrics(0.3*sched.clientWidth, 0.3*sched.clientHeight);
  }

  // Composite exporter (Scene 4)
  document.getElementById('exportComposite')?.addEventListener('click', exportComposite);

  // Utilities used by multiple modules
  function fileToDataURL(file){ return new Promise((res,rej)=>{ const r=new FileReader(); r.onload=()=>res(r.result); r.onerror=rej; r.readAsDataURL(file); }); }
  function extractPalette(dataURL){
    return new Promise((resolve)=>{
      const img = new Image(); img.crossOrigin='anonymous'; img.onload=()=>{
        const c = document.createElement('canvas'); c.width=img.naturalWidth; c.height=img.naturalHeight;
        const ctx = c.getContext('2d'); ctx.drawImage(img,0,0);
        const {data} = ctx.getImageData(0,0,c.width,c.height);
        // Simple average & a “pop” color bias
        let r=0,g=0,b=0,cnt=0;
        for (let i=0;i<data.length;i+=16){ // sample every 4th pixel
          const R=data[i], G=data[i+1], B=data[i+2];
          // ignore very dark pixels
          if (R+G+B < 40) continue;
          r+=R; g+=G; b+=B; cnt++;
        }
        r=Math.round(r/cnt)||90; g=Math.round(g/cnt)||120; b=Math.round(b/cnt)||255;
        const [h,s,l] = rgbToHsl(r,g,b);
        const accent1 = {h:Math.round(h), s:Math.round(Math.min(96, s+8)), l:Math.round(Math.min(70, l+6))};
        const accent2 = {h:(accent1.h+70)%360, s:Math.max(55, accent1.s-10), l:Math.max(45, accent1.l-10)};
        resolve({accent1, accent2});
      }; img.src = dataURL;
    });
  }
  function rgbToHsl(r,g,b){
    r/=255; g/=255; b/=255;
    const max=Math.max(r,g,b), min=Math.min(r,g,b);
    let h,s,l=(max+min)/2;
    if(max===min){ h=s=0; } else {
      const d=max-min;
      s=l>0.5? d/(2-max-min) : d/(max+min);
      switch(max){
        case r: h=(g-b)/d+(g<b?6:0); break;
        case g: h=(b-r)/d+2; break;
        case b: h=(r-g)/d+4; break;
      }
      h/=6;
    }
    return [h*360, s*100, l*100];
  }
})();

/* ========= Canvas helpers shared with your exporter ========= */
function roundRect(ctx, x, y, w, h, r, fill=true, stroke=false){
  if (typeof r === 'number') r = {tl:r,tr:r,br:r,bl:r};
  ctx.beginPath();
  ctx.moveTo(x+r.tl, y);
  ctx.lineTo(x+w-r.tr, y);
  ctx.quadraticCurveTo(x+w, y, x+w, y+r.tr);
  ctx.lineTo(x+w, y+h-r.br);
  ctx.quadraticCurveTo(x+w, y+h, x+w-r.br, y+h);
  ctx.lineTo(x+r.bl, y+h);
  ctx.quadraticCurveTo(x, y+h, x, y+h-r.bl);
  ctx.lineTo(x, y+r.tl);
  ctx.quadraticCurveTo(x, y, x+r.tl, y);
  ctx.closePath();
  if (fill) ctx.fill();
  if (stroke) ctx.stroke();
}
function wrapText(ctx, text, x, y, maxWidth, lineHeight){
  const words = (text||'').split(/\s+/); let line='', yy=y;
  for (let n=0;n<words.length;n++){
    const test = line + words[n] + ' ';
    if (ctx.measureText(test).width > maxWidth){ ctx.fillText(line, x, yy); line = words[n] + ' '; yy += lineHeight; }
    else line = test;
  }
  if (line) ctx.fillText(line, x, yy);
}
function roundedChip(ctx, x, y, w, h){
  ctx.save();
  const grad = ctx.createLinearGradient(x,y,x+w,y+h);
  grad.addColorStop(0, 'hsl(' + getComputedStyle(document.documentElement).getPropertyValue('--accent') + ')');
  grad.addColorStop(1, 'hsl(' + getComputedStyle(document.documentElement).getPropertyValue('--accent-2') + ')');
  ctx.fillStyle = grad;
  roundRect(ctx, x, y, w, h, 999, true, false);
  ctx.fillStyle = '#fff';
  ctx.font = '700 20px Inter, system-ui, -apple-system';
  const txt = (state.cta || 'Learn more').slice(0,18);
  ctx.fillText(txt, x + 18, y + h - 14);
  ctx.restore();
}

/* ========= Composite exporter ========= */
function exportComposite(){
  const canvas = document.createElement('canvas');
  const W = 1800, H = 1200; canvas.width=W; canvas.height=H;
  const ctx = canvas.getContext('2d');
  // Background
  const g = ctx.createLinearGradient(0,0,W,H);
  g.addColorStop(0,'#0b0f16'); g.addColorStop(1,'#0f1220');
  ctx.fillStyle=g; ctx.fillRect(0,0,W,H);

  // Title
  ctx.fillStyle='#fff'; ctx.font='700 46px Inter, system-ui, -apple-system';
  ctx.fillText('EVRT — Campaign Preview', 36, 70);
  ctx.fillStyle='rgba(255,255,255,.75)'; ctx.font='400 22px Inter, system-ui, -apple-system';
  ctx.fillText((new Date()).toLocaleString(), 36, 104);

  // Three platform exports using existing makePNG logic but drawn side-by-side
  const slots = [
    {platform:'facebook', x:36,   y:140, w: W/3-48, h: 640},
    {platform:'instagram',x:W/3+12, y:140, w: W/3-48, h: 640},
    {platform:'tiktok',   x:2*W/3+12, y:140, w: W/3-48, h: 640},
  ];

  let done = 0;
  slots.forEach(slot=> renderPlatformTo(slot.platform, (img)=>{
    ctx.save(); roundRect(ctx, slot.x, slot.y, slot.w, slot.h, 18, true, false);
    ctx.clip(); ctx.drawImage(img, slot.x, slot.y, slot.w, slot.h); ctx.restore();
    if (++done === slots.length) finalize();
  }));

  function finalize(){
    // KPI strip
    const kx = 36, ky = 820, bw = (W-36*2-20*2)/3, bh = 140;
    const kpis = [
      {label:'Expected Reach', value: document.getElementById('mReach')?.textContent || '—'},
      {label:'CTR', value: document.getElementById('mCTR')?.textContent || '—'},
      {label:'Confidence', value: document.getElementById('mConf')?.textContent || '—'},
    ];
    kpis.forEach((k,i)=>{
      const x = kx + i*(bw+20);
      ctx.fillStyle='rgba(255,255,255,.06)';
      roundRect(ctx, x, ky, bw, bh, 16, true, false);
      ctx.fillStyle='#fff'; ctx.font='700 36px Inter, system-ui, -apple-system';
      ctx.fillText(k.value, x+20, ky+64);
      ctx.fillStyle='rgba(255,255,255,.7)'; ctx.font='400 20px Inter, system-ui, -apple-system';
      ctx.fillText(k.label, x+20, ky+96);
    });

    const url = canvas.toDataURL('image/png');
    const a = document.createElement('a'); a.href=url; a.download='EVRT-composite.png'; a.click();
  }

  // Renders a single platform PNG to an Image bitmap
  function renderPlatformTo(platform, cb){
    // temporarily render off-screen using your makePNG
    const tmp = document.createElement('canvas');
    const [w,h] = (platform==='instagram') ? [1080,1350] : (platform==='tiktok' ? [1080,1920] : [1200,628]);
    tmp.width=w; tmp.height=h;
    const ctx2 = tmp.getContext('2d');
    // draw bg
    const g2 = ctx2.createLinearGradient(0,0,w,h);
    g2.addColorStop(0,'#0b0f16'); g2.addColorStop(1,'#0f1220');
    ctx2.fillStyle=g2; ctx2.fillRect(0,0,w,h);

    // Quick reuse of UI from your makePNG (brand, headline, media)
    // media
    const mediaH = platform==='facebook' ? h*0.58 : platform==='instagram' ? h*0.62 : h*0.68;
    if (state.media){
      const img = new Image(); img.onload = draw; img.src = state.media;
    } else draw();

    function draw(){
      if (state.media){
        const img = new Image(); img.onload=()=>{
          const rect = {x:32, y:140, w:w-64, h:mediaH-48};
          const ir = img.width/img.height, rr = rect.w/rect.h;
          let sw,sh,sx,sy;
          if (ir>rr){ sh=img.height; sw=sh*rr; sx=(img.width-sw)/2; sy=0; }
          else { sw=img.width; sh=sw/rr; sx=0; sy=(img.height-sh)/2; }
          ctx2.save(); roundRect(ctx2, rect.x, rect.y, rect.w, rect.h, 20, true, false); ctx2.clip();
          ctx2.drawImage(img, sx,sy,sw,sh, rect.x,rect.y,rect.w,rect.h);
          ctx2.restore();
          drawUI();
        }; img.src=state.media;
      } else { drawUI(); }
    }
    function drawUI(){
      ctx2.fillStyle='#fff'; ctx2.font='700 42px Inter, system-ui, -apple-system';
      ctx2.fillText((state.brand||'EVRT').slice(0,20), 32, 72);
      ctx2.fillStyle='rgba(255,255,255,.7)'; ctx2.font='400 22px Inter, system-ui, -apple-system';
      const tag = platform==='facebook' ? 'Sponsored · 1h' : (platform==='instagram' ? (state.handle||'@brand') : 'Promoted');
      ctx2.fillText(tag, 32, 102);

      ctx2.fillStyle='#dfe5ff'; ctx2.font='700 38px Inter, system-ui, -apple-system';
      wrapText(ctx2, (state.headline||''), 32, 120, w-64, 44);

      const cta = (state.cta||'Learn more').slice(0,18);
      const ww = ctx2.measureText(cta).width + 34;
      roundedChip(ctx2, w-32-ww, 40, ww, 44);

      ctx2.fillStyle='rgba(255,255,255,.7)'; ctx2.font='400 22px Inter, system-ui, -apple-system';
      const disp = (state.url||'https://evrt.ai').replace(/^https?:\/\//,'');
      ctx2.fillText(disp, 32, h-36);

      const image = new Image(); image.onload=()=> cb(image); image.src = tmp.toDataURL('image/png');
    }
  }
}
    // init
    render( 
document.getElementById('pBrandFB').textContent = state.brand || 'EVRT';
document.getElementById('pBrandIG').textContent = state.brand || 'EVRT';
document.getElementById('pBrandTT').textContent = (state.brand || 'EVRT') + ' · Official';
document.getElementById('pCopyFB').textContent  = state.headline || '';
document.getElementById('pCopyIG').textContent  = state.headline || '';
document.getElementById('pCopyTT').textContent  = state.headline || '';
document.getElementById('pCtaFB').textContent   = state.cta || 'Learn more';
document.getElementById('pCtaIG').textContent   = state.cta || 'Learn more';
document.getElementById('pCtaTT').textContent   = state.cta || 'Learn more';
['FB','IG','TT'].forEach(k=>{
  const el = document.getElementById('pUrl'+k);
  if (el) el.textContent = (state.url||'https://evrt.ai').replace(/^https?:\/\//,'');
});
['FB','IG','TT'].forEach(k=>{
  const el = document.getElementById('pMedia'+k);
  if (!el) return;
  el.style.backgroundImage = state.media ? `url(${state.media})` : '';
});

      
    );
  </script>
  <script defer src="assets/app.js"></script>
</body>
</html>
