<!DOCTYPE html>
<html lang="en" data-theme="dark">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>EVRT — Privacy</title>
  <meta name="description" content="EVRT Privacy Policy. What we collect, why, how long, your rights, and how to contact us. Proof-driven growth with secure guardrails."/>
  <link rel="preconnect" href="https://fonts.googleapis.com"/>
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin/>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300..900&family=Space+Grotesk:wght@400;600;700&display=swap" rel="stylesheet"/>
  <link rel="stylesheet" href="assets/style.css"/>

  <!-- Social -->
  <meta property="og:title" content="EVRT — Privacy"/>
  <meta property="og:description" content="EVRT Privacy Policy and controls."/>
  <meta property="og:type" content="website"/>
  <meta property="og:url" content="https://connorjenkins-developer.github.io/evrt.ai/privacy.html"/>
  <meta property="og:image" content="https://connorjenkins-developer.github.io/evrt.ai/assets/evrt-og.png"/>
  <meta name="twitter:card" content="summary_large_image"/>

  <style>
    :root{
      --pv-neon:#6ee7ff; --pv-accent:#63ffa5; --pv-amber:#ffd75a; --pv-danger:#ff4d6d;
      --pv-bg:#0a0e14; --pv-card:#0f141c; --pv-grid:rgba(255,255,255,.06); --pv-mute:#8fa2b7;
    }
    body{ background: radial-gradient(1400px 900px at 75% -260px,#142034 0,#0a0e14 65%); }

    /* Backdrop */
    .layers{ position:fixed; inset:0; z-index:0; pointer-events:none }
    #halo{ position:absolute; inset:0; opacity:.26 }
    .scan{ position:absolute; inset:0; background:linear-gradient(to bottom, rgba(255,255,255,.03) 1px, transparent 1px) 0 0/100% 3px; opacity:.26; mix-blend-mode:overlay }

    /* Layout / UI */
    .section{ position:relative; z-index:1 }
    .eyebrow{ letter-spacing:.12em; text-transform:uppercase; color:var(--pv-mute) }
    .muted{ color:var(--pv-mute) }
    .grid{ display:grid; gap:14px }
    .grid-2{ display:grid; gap:14px; grid-template-columns:1fr; }
    @media(min-width:1000px){ .grid-2{ grid-template-columns:1.1fr 1fr } }
    .grid-3{ display:grid; gap:14px; grid-template-columns:1fr; }
    @media(min-width:980px){ .grid-3{ grid-template-columns:repeat(3,1fr) } }

    .card{ position:relative; border:1px solid var(--pv-grid); border-radius:16px; background:linear-gradient(180deg,rgba(255,255,255,.06),rgba(255,255,255,.02)); padding:14px; overflow:hidden }
    .card:hover{ border-color:rgba(110,231,255,.45); box-shadow:0 14px 50px rgba(110,231,255,.10), 0 0 0 1px rgba(110,231,255,.25) inset }
    .row{ display:flex; align-items:center; justify-content:space-between; gap:10px }
    .row.wrap{ flex-wrap:wrap }
    .badge{ display:inline-flex; align-items:center; gap:6px; padding:4px 10px; border:1px solid var(--pv-grid); border-radius:999px; font-size:12px }
    .tag{ font-size:11px; padding:2px 8px; border:1px solid var(--pv-grid); border-radius:999px; color:var(--pv-mute) }
    .btn.neon{ background:linear-gradient(90deg,var(--pv-neon),var(--pv-accent)); color:#061019; border:0; font-weight:800 }
    .btn.ghost{ border:1px solid var(--pv-grid) }
    .control{ border:1px solid var(--pv-grid); border-radius:12px; background:#0f141c; padding:10px 12px; color:inherit; width:100% }
    .mono{ font-family:ui-monospace, Menlo, Consolas, monospace; font-size:12px; color:#9fb3c8 }

    .switch{ display:inline-flex; align-items:center; gap:8px; cursor:pointer; user-select:none }
    .switch input{ appearance:none; width:44px; height:24px; border-radius:999px; background:#0b0e13; border:1px solid var(--pv-grid); position:relative; outline:0 }
    .switch input:checked{ background:linear-gradient(90deg,var(--pv-neon),var(--pv-accent)); border:0 }
    .switch input::after{ content:''; position:absolute; top:3px; left:3px; width:18px; height:18px; border-radius:999px; background:#9fb3c8; transition:left .2s }
    .switch input:checked::after{ left:23px; background:#061019 }

    .table{ width:100%; border-collapse:separate; border-spacing:0 }
    .table th, .table td{ border-bottom:1px dashed rgba(255,255,255,.14); padding:8px 6px; text-align:left; vertical-align:top }
    .table th{ color:#cfe7ff; font-weight:700 }

    .hint{ font-size:12px; color:var(--pv-mute) }
    .ok{ color:#9fffcf } .warn{ color:#ffd75a } .err{ color:#ff6b8a }

    /* Sticky CTA */
    .sticky-cta{ position:sticky; bottom:12px; z-index:40; display:flex; justify-content:center }
    .sticky-cta .bar{ width:min(1080px,92vw); backdrop-filter:blur(8px); background:#07121b; border:1px solid rgba(110,231,255,.35); border-radius:14px; padding:10px; display:flex; gap:10px; align-items:center }
    .ping{ width:8px; height:8px; border-radius:50%; background:#63ffa5; box-shadow:0 0 0 6px rgba(99,255,165,.15) }
  </style>
</head>
<body>
  <!-- Backdrop -->
  <div class="layers">
    <canvas id="halo" aria-hidden="true"></canvas>
    <div class="scan" aria-hidden="true"></div>
  </div>

  <div data-include="partials/header.html"></div>

  <!-- HERO -->
  <section class="container hero section" style="margin-top:20px">
    <span class="eyebrow">Privacy & Controls</span>
    <h1 class="gradient-text">Guardrails on by default.<br/>You’re in control.</h1>
    <p class="sub">Human-readable summary + full legal text. Manage cookies, download our data map, or send a rights request in one click.</p>
    <div class="row wrap" style="margin-top:10px">
      <label class="switch"><span class="muted">Summary</span><input id="lawyer" type="checkbox"/><span class="muted">Lawyer Mode</span></label>
      <span class="badge">Last updated: <span id="lastUpdated">Aug 30, 2025</span></span>
      <div class="tags">
        <span class="tag">America/Chicago</span>
        <span class="tag">No passwords (magic links)</span>
        <span class="tag">PII-safe telemetry</span>
      </div>
    </div>
  </section>

  <!-- OVERVIEW + CONTROLS -->
  <section class="container section grid-2">
    <!-- Overview -->
    <div class="card">
      <div class="row"><h3 style="margin:0">At a Glance</h3><div class="muted">Plain-English summary</div></div>
      <div id="summary">
        <ul class="muted" style="margin:8px 0 0 18px">
          <li>We collect what you give us (email, messages, files) and what’s needed to run the app (auth, basic logs).</li>
          <li>No ad-selling of your data. No dark patterns. You can opt out of non-essential cookies below.</li>
          <li>We use reputable processors (e.g., Supabase for auth/storage). They act under our instructions.</li>
          <li>You can request access/deletion/portability at any time — buttons on this page write the email for you.</li>
          <li>Security first: least privilege, temporary signed links for files, anomaly awareness.</li>
        </ul>
      </div>

      <!-- Legal text toggled -->
      <div id="legal" style="display:none; margin-top:8px">
        <p class="muted">This Privacy Policy describes how EVRT (“we”, “us”) collects, uses, shares, and safeguards Personal Data when you use our website at <code>connorjenkins-developer.github.io/evrt.ai</code> and our client portal/app (together, the “Services”).</p>
        <h4>Categories of Data</h4>
        <ul class="muted">
          <li><strong>Account & Auth</strong>: email address; login events; session tokens.</li>
          <li><strong>Client Content</strong>: messages, project names, uploaded documents.</li>
          <li><strong>Product Telemetry</strong>: basic event logs, timestamps, browser info; no sensitive keystroke tracking.</li>
          <li><strong>Operational</strong>: invoices, communications, support notes.</li>
        </ul>
        <h4>Purposes & Legal Bases</h4>
        <ul class="muted">
          <li><em>Provide Services / Contract</em>: authenticate, route messages, deliver files.</li>
          <li><em>Improve & Secure / Legitimate Interests</em>: reliability, abuse prevention, analytics.</li>
          <li><em>Comply with Law</em>: tax, accounting, lawful requests.</li>
          <li><em>Consent</em>: non-essential cookies or marketing (where applicable).</li>
        </ul>
        <h4>Sharing & Processors</h4>
        <p class="muted">We use service providers under contracts that restrict their processing to our instructions (e.g., Supabase for authentication, database, and storage; GitHub Pages for static site hosting).</p>
        <h4>Retention</h4>
        <p class="muted">We keep data while you have an account and as needed for legal/operational requirements. You can request deletion.</p>
        <h4>Your Rights</h4>
        <p class="muted">Where applicable: access, correction, deletion, portability, restriction, objection, and withdrawal of consent. California residents may opt out of “sale/share” of personal information; we do not sell personal information.</p>
        <h4>International</h4>
        <p class="muted">Data may be processed in the U.S. and other locations where our processors operate.</p>
        <h4>Children</h4>
        <p class="muted">The Services are not directed to children under 13.</p>
        <h4>Changes</h4>
        <p class="muted">We’ll update this page and adjust the “Last updated” date. Material changes will be signposted.</p>
        <h4>Contact</h4>
        <p class="muted">Email: <a href="mailto:connorje3kins@gmail.com">connorje3kins@gmail.com</a></p>
        <p class="hint">This policy is provided for transparency and does not constitute legal advice.</p>
      </div>

      <div class="row wrap" style="margin-top:10px">
        <button id="dlPolicy" class="btn">Download policy (.md)</button>
        <button id="dlMap" class="btn">Download data map (.json)</button>
      </div>
    </div>

    <!-- Controls -->
    <div class="card">
      <div class="row"><h3 style="margin:0">Privacy Controls</h3><div class="muted">Your preferences live on this device</div></div>

      <div class="grid" style="margin-top:8px">
        <div class="card">
          <div class="row"><strong>Cookie Preferences</strong><span class="badge">Local only</span></div>
          <div class="grid" style="grid-template-columns:1fr 1fr; margin-top:8px">
            <label class="switch">Strictly necessary<input data-cookie="strict" type="checkbox" checked disabled/><span class="muted">Required</span></label>
            <label class="switch">Analytics<input data-cookie="analytics" type="checkbox"/><span class="muted">Optional</span></label>
          </div>
          <p class="hint" style="margin-top:6px">We don’t use behavioral ads or cross-site tracking. Analytics (if enabled) are aggregate.</p>
          <div class="row wrap" style="margin-top:8px">
            <button id="saveCookies" class="btn neon">Save preferences</button>
            <button id="resetCookies" class="btn">Reset</button>
          </div>
        </div>

        <div class="card">
          <div class="row"><strong>Rights Requests</strong><span class="badge">One-click email</span></div>
          <select id="dsarType" class="control" style="margin-top:8px">
            <option value="access">Access my data</option>
            <option value="delete">Delete my data</option>
            <option value="export">Export/portability</option>
            <option value="optout">Do not sell/share (CCPA)</option>
            <option value="rectify">Correct my data</option>
          </select>
          <input id="dsarEmail" class="control" style="margin-top:8px" placeholder="Your email (used with EVRT)" />
          <textarea id="dsarNotes" class="control" style="margin-top:8px" placeholder="Optional context…"></textarea>
          <div class="row wrap" style="margin-top:8px">
            <button id="makeDSAR" class="btn">Compose email</button>
            <button id="downloadDSAR" class="btn ghost">Download request (.txt)</button>
          </div>
          <p class="hint">We’ll reply to rights requests as required by law. Identity verification may be required.</p>
        </div>
      </div>
    </div>
  </section>

  <!-- DATA MAP -->
  <section class="container section">
    <div class="row"><h3 style="margin:0">Data Map</h3><div class="muted">What we handle & why</div></div>
    <div class="card" style="margin-top:8px">
      <table class="table">
        <thead><tr><th>Category</th><th>Examples</th><th>Purpose</th><th>Legal Basis</th><th>Retention</th></tr></thead>
        <tbody id="dataRows"></tbody>
      </table>
      <p class="hint" style="margin-top:8px">Processors (illustrative): Supabase (auth, DB, storage), GitHub Pages (hosting). Sub-processors may change over time; we choose reputable vendors with appropriate safeguards.</p>
    </div>
  </section>

  <!-- SECURITY POSTURE -->
  <section class="container section grid-3">
    <div class="card">
      <strong>Authentication</strong>
      <p class="muted">Passwordless (email magic links). Sessions are managed securely by our auth provider.</p>
    </div>
    <div class="card">
      <strong>Data Access</strong>
      <p class="muted">Least-privilege model; multi-tenant isolation via row-level security (RLS) in our backend.</p>
    </div>
    <div class="card">
      <strong>Documents</strong>
      <p class="muted">Private bucket with path prefixing per account; temporary signed URLs for access.</p>
    </div>
  </section>

  <!-- Sticky CTA -->
  <div class="sticky-cta">
    <div class="bar">
      <span class="badge"><span class="ping"></span> Guardrails on</span>
      <div class="muted" style="flex:1">Have a privacy question or request? We’ll respond quickly.</div>
      <a class="btn neon" href="mailto:connorje3kins@gmail.com?subject=EVRT%20Privacy%20Question">Email privacy</a>
      <a class="btn" href="cybersecurity.html">See security</a>
    </div>
  </div>

  <div data-include="partials/footer.html"></div>

  <script defer src="assets/app.js"></script>
  <script>
    /* ===== Backdrop halo ===== */
    (function haloFX(){
      const c=document.getElementById('halo'), ctx=c.getContext('2d');
      function resize(){ c.width=innerWidth; c.height=innerHeight; } resize(); addEventListener('resize', resize);
      const orbs = Array.from({length:7}, ()=>({x:Math.random()*c.width, y:Math.random()*c.height*0.6, r: 90+Math.random()*160, dx:(Math.random()-.5)*0.45, dy:(Math.random()-.5)*0.45, hue: 180+Math.random()*90}));
      (function tick(){ ctx.clearRect(0,0,c.width,c.height);
        orbs.forEach(o=>{ o.x+=o.dx; o.y+=o.dy; if(o.x<-120||o.x>c.width+120) o.dx*=-1; if(o.y<-120||o.y>c.height*0.8) o.dy*=-1;
          const g=ctx.createRadialGradient(o.x,o.y,0,o.x,o.y,o.r);
          g.addColorStop(0,`hsla(${o.hue},100%,60%,.12)`); g.addColorStop(1,'transparent');
          ctx.fillStyle=g; ctx.beginPath(); ctx.arc(o.x,o.y,o.r,0,6.283); ctx.fill(); });
        requestAnimationFrame(tick);
      })();
    })();

    /* ===== Data map (edit as needed) ===== */
    const DATA_MAP = [
      { cat:'Account & Auth', ex:'Email, login event, session ID', why:'Provide secure access; session management', basis:'Contract; Legitimate interests', retention:'While account active + legal' },
      { cat:'Client Content', ex:'Projects, messages, uploaded docs', why:'Deliver services and collaboration', basis:'Contract', retention:'Until deletion or end of contract' },
      { cat:'Telemetry', ex:'Timestamps, basic device/browser info', why:'Reliability, abuse prevention, analytics', basis:'Legitimate interests; Consent (for analytics)', retention:'Rolling windows; aggregated thereafter' },
      { cat:'Operations', ex:'Invoices, support threads', why:'Billing, support, compliance', basis:'Legal obligation; Contract', retention:'As required by law' }
    ];

    function renderDataMap(){
      const tbody = document.getElementById('dataRows');
      tbody.innerHTML = DATA_MAP.map(d=>`
        <tr>
          <td><strong>${d.cat}</strong></td>
          <td class="muted">${d.ex}</td>
          <td class="muted">${d.why}</td>
          <td class="muted">${d.basis}</td>
          <td class="muted">${d.retention}</td>
        </tr>
      `).join('');
    }
    renderDataMap();

    /* ===== Summary vs Legal toggle ===== */
    const lawyer = document.getElementById('lawyer');
    const summary = document.getElementById('summary');
    const legal = document.getElementById('legal');
    lawyer.addEventListener('change', ()=>{
      const on = lawyer.checked;
      summary.style.display = on ? 'none' : '';
      legal.style.display = on ? '' : 'none';
      localStorage.setItem('evrt_priv_lawyer', on ? '1' : '0');
    });
    (function initMode(){
      const saved = localStorage.getItem('evrt_priv_lawyer'); if(saved==='1'){ lawyer.checked=true; summary.style.display='none'; legal.style.display=''; }
    })();

    /* ===== Cookie preferences (local only demo) ===== */
    const COOKIE_KEYS = ['strict','analytics'];
    function loadCookiePrefs(){
      try { return JSON.parse(localStorage.getItem('evrt_cookie_prefs')||'{}'); } catch { return {}; }
    }
    function saveCookiePrefs(p){ localStorage.setItem('evrt_cookie_prefs', JSON.stringify(p)); }
    function syncCookieUI(){
      const prefs = loadCookiePrefs();
      document.querySelectorAll('[data-cookie]').forEach(i=>{
        const k = i.dataset.cookie;
        if(k==='strict'){ i.checked = true; i.disabled = true; }
        else { i.checked = !!prefs[k]; }
      });
    }
    syncCookieUI();

    document.getElementById('saveCookies').onclick = ()=>{
      const prefs = {};
      document.querySelectorAll('[data-cookie]').forEach(i=>{
        const k = i.dataset.cookie;
        if(k!=='strict'){ prefs[k] = i.checked; }
      });
      saveCookiePrefs(prefs);
      alert('Preferences saved on this device.');
    };
    document.getElementById('resetCookies').onclick = ()=>{
      localStorage.removeItem('evrt_cookie_prefs');
      syncCookieUI();
    };

    /* ===== Downloads ===== */
    function download(text, name, type){
      const blob=new Blob([text],{type}); const url=URL.createObjectURL(blob);
      const a=document.createElement('a'); a.href=url; a.download=name; a.click(); setTimeout(()=>URL.revokeObjectURL(url), 4000);
    }

    function policyMarkdown(){
      const updated = document.getElementById('lastUpdated').textContent.trim();
      return [
        '# EVRT Privacy Policy',
        '',
        `Last updated: ${updated}`,
        '',
        '## Summary',
        '- We collect what you provide and what we need to run the Services.',
        '- We do **not** sell your personal information.',
        '- You control optional analytics cookies.',
        '- You may request access, deletion, export, and more at any time.',
        '',
        '## Categories & Purposes',
        ...DATA_MAP.map(d=>`- **${d.cat}** — ${d.ex}. Purpose: ${d.why}. Basis: ${d.basis}. Retention: ${d.retention}.`),
        '',
        '## Processors',
        '- Supabase (authentication, database, storage)',
        '- GitHub Pages (static hosting)',
        '',
        '## Your Rights',
        'Access, correction, deletion, portability, restriction, objection, and consent withdrawal (where applicable). California residents: opt out of sale/share (we do not sell).',
        '',
        '## Contact',
        '- Email: connorje3kins@gmail.com',
        '',
        '_This document is informational and not legal advice._'
      ].join('\n');
    }

    document.getElementById('dlPolicy').onclick = ()=> download(policyMarkdown(), 'evrt-privacy-policy.md', 'text/markdown');
    document.getElementById('dlMap').onclick = ()=> download(JSON.stringify(DATA_MAP, null, 2), 'evrt-data-map.json', 'application/json');

    /* ===== DSAR generator ===== */
    const EMAIL = 'connorje3kins@gmail.com';
    function dsarBody(kind, addr, notes){
      const hdr = `EVRT Privacy Request — ${kind.toUpperCase()}`;
      const lines = [
        hdr, '',
        `Email used with EVRT: ${addr||'(not provided)'}`,
        `Request type: ${kind}`,
        '',
        'Notes:',
        (notes||'-'),
        '',
        '—',
        'This request was generated via the EVRT Privacy page.'
      ];
      return { subject: hdr, body: lines.join('\n') };
    }
    document.getElementById('makeDSAR').onclick = ()=>{
      const kind = document.getElementById('dsarType').value;
      const addr = document.getElementById('dsarEmail').value.trim();
      const notes = document.getElementById('dsarNotes').value.trim();
      const { subject, body } = dsarBody(kind, addr, notes);
      const link = `mailto:${EMAIL}?subject=${encodeURIComponent(subject)}&body=${encodeURIComponent(body)}`;
      if(link.length < 1900){ location.href = link; }
      else { navigator.clipboard.writeText(body); alert('Your request was copied to clipboard; paste into the email that opens.'); location.href='mailto:'+EMAIL+'?subject='+encodeURIComponent(subject); }
    };
    document.getElementById('downloadDSAR').onclick = ()=>{
      const kind = document.getElementById('dsarType').value;
      const addr = document.getElementById('dsarEmail').value.trim();
      const notes = document.getElementById('dsarNotes').value.trim();
      const { body } = dsarBody(kind, addr, notes);
      download(body, `evrt-${kind}-request.txt`, 'text/plain');
    };

    /* ===== JSON-LD (WebPage) ===== */
    (function schema(){
      const s=document.createElement('script'); s.type='application/ld+json';
      s.textContent = JSON.stringify({
        '@context':'https://schema.org',
        '@type':'WebPage',
        name:'EVRT Privacy',
        url: location.href,
        isPartOf:{'@type':'WebSite','name':'EVRT','url': location.origin + (location.pathname.includes('/evrt.ai/')? '/evrt.ai/' : '/') }
      });
      document.head.appendChild(s);
    })();
  </script>
</body>
</html>
